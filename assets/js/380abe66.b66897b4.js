"use strict";(globalThis.webpackChunkdocusaurus_book=globalThis.webpackChunkdocusaurus_book||[]).push([[216],{7981(e,a,s){s.r(a),s.d(a,{default:()=>i});var t=s(6540),o=s(1804),r=s(8774),n=s(6025),l=s(4848);const i=function(){const[e,a]=(0,t.useState)(""),[s,i]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),h=(0,n.Ay)("/profile");return(0,l.jsx)(o.A,{title:"Log In",description:"Log in to your account",children:(0,l.jsx)("div",{className:"auth-container",children:(0,l.jsxs)("div",{className:"auth-card",children:[(0,l.jsx)("h1",{className:"auth-title",children:"Log In"}),(0,l.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),u("Logging in...");try{const a=new URLSearchParams({username:e,password:s}),t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a});let o;try{o=await t.json()}catch{throw new Error("Invalid JSON response from server")}t.ok?(localStorage.setItem("auth_session",JSON.stringify({...o,email:e})),localStorage.setItem("access_token",o.access_token),u("Login successful!"),window.location.href=h):u(`Login failed: ${o.message||t.statusText}`)}catch(t){console.error("Login error:",t),u(t.message||"An error occurred during login.")}},children:[(0,l.jsxs)("div",{className:"auth-form-group",children:[(0,l.jsx)("label",{htmlFor:"email",children:"Email"}),(0,l.jsx)("input",{id:"email",type:"email",className:"auth-input",placeholder:"you@example.com",value:e,onChange:e=>a(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"auth-form-group",children:[(0,l.jsx)("label",{htmlFor:"password",children:"Password"}),(0,l.jsx)("input",{id:"password",type:"password",className:"auth-input",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:s,onChange:e=>i(e.target.value),required:!0})]}),c&&(0,l.jsx)("p",{className:"auth-message",children:c}),(0,l.jsx)("button",{type:"submit",className:"auth-button",children:"Log In"})]}),(0,l.jsxs)("p",{className:"auth-link",children:["Don't have an account? ",(0,l.jsx)(r.A,{to:"/signup",children:"Sign Up"})]})]})})})}}}]);