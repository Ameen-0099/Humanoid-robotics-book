"use strict";(globalThis.webpackChunkdocusaurus_book=globalThis.webpackChunkdocusaurus_book||[]).push([[555],{7137(e,r,o){o.r(r),o.d(r,{default:()=>l});var s=o(6540),a=o(1804),n=o(4586),c=o(6025),t=o(8774),i=o(4848);const l=function(){const{siteConfig:e}=(0,n.A)(),[r,o]=(0,s.useState)(null),[l,d]=(0,s.useState)("Loading profile..."),u=(0,c.Ay)("/login");return(0,s.useEffect)(()=>{(async()=>{const r=localStorage.getItem("access_token");if(!r)return void d("You are not logged in.");const s=`${e.customFields.apiBaseUrl}/api/auth/users/me/`;try{const e=await fetch(s,{headers:{Authorization:`Bearer ${r}`}});if(e.ok){const r=await e.json();o(r),d("")}else d(`Failed to load profile: ${e.statusText}`),localStorage.removeItem("access_token")}catch(a){console.error("Profile fetch error:",a),d("An error occurred while loading your profile.")}})()},[]),(0,i.jsx)(a.A,{title:"Profile",description:"User Profile",children:(0,i.jsx)("main",{className:"container margin-vert--lg",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsxs)("div",{className:"col col--6 col--offset-3",children:[(0,i.jsx)("h1",{children:"User Profile"}),l&&(0,i.jsx)("p",{children:l}),r&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Email:"})," ",r.email]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Username:"})," ",r.username]}),r.software_background&&(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Software Background:"})," ",r.software_background]}),r.hardware_background&&(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Hardware Background:"})," ",r.hardware_background]}),(0,i.jsx)("button",{onClick:()=>{localStorage.removeItem("access_token"),window.location.href=u},className:"button button--danger",children:"Log Out"})]}),!r&&!l&&(0,i.jsxs)("p",{children:["Please ",(0,i.jsx)(t.A,{to:"/login",children:"log in"})," to view your profile."]})]})})})})}}}]);