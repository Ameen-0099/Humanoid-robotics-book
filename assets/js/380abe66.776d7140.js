"use strict";(globalThis.webpackChunkdocusaurus_book=globalThis.webpackChunkdocusaurus_book||[]).push([[216],{7981:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(6540),n=s(2164),o=s(3685),i=s(4848);const l=function(){const[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[r,u]=(0,a.useState)(null);return(0,i.jsx)(n.A,{title:"Login",children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",flexDirection:"column"},children:[(0,i.jsx)("h1",{children:"Login"}),(0,i.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const a=await fetch(o._M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),n=await a.json();if(a.ok)localStorage.setItem("token",n.access_token),localStorage.setItem("username",n.username),localStorage.setItem("email",n.email),u("Login successful!");else{let e="Login failed.";n&&n.detail?e=`Login failed: ${"string"==typeof n.detail?n.detail:JSON.stringify(n.detail)}`:n&&(e=`Login failed: ${JSON.stringify(n)}`),u(e)}console.log(n)},children:[(0,i.jsx)("input",{type:"text",placeholder:"Username",value:e,onChange:e=>t(e.target.value)}),(0,i.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>l(e.target.value)}),(0,i.jsx)("button",{type:"submit",children:"Login"})]}),r&&(0,i.jsx)("p",{children:r})]})})}}}]);